//////////////////////////////////////////////////////////////////////////////////////////
//                                                                                      //
//                   (C) VESTA 2019 - Planbureau voor de Leefomgeving                   //
//                                                                                      //
//////////////////////////////////////////////////////////////////////////////////////////

container LeidraadResultaten: using = "Model/CalculationSchemes"
{
	parameter<String> RekenstapName := last(Classifications/rekenstap/name);

	parameter<bool> isStap0 := RekenstapName == 'StartJaar';
	container TussenResultaten := ='/TussenResultaten/' + RekenstapName;
	container Resultaten := ='/Resultaten/' + RekenstapName;
	
/* REMOVE	
	parameter<Classifications/RekenStap> Rekenstap_rel  := rlookup(RekenstapName, Classifications/rekenstap/name);
	parameter<String> RekenjaarName   := Classifications/rekenjaar/Name[Classifications/RekenStap/rekenjaar_rel          [Rekenstap_rel]];
	parameter<String> BouwjaarName    := Classifications/Zichtjaar/Name[Classifications/RekenStap/zichtjaar_rel_bebouwing[Rekenstap_rel]];
	parameter<String> KlimaatjaarName := Classifications/Zichtjaar/Name[Classifications/RekenStap/zichtjaar_rel_klimaat  [Rekenstap_rel]];

	parameter<Classifications/Zichtjaar> ZichtJaar_rel := rlookup(BouwjaarName, Classifications/zichtjaar/name);
	parameter<units/yr_uint16>           ZichtJaar_jaar:= Classifications/zichtjaar/jaar[Zichtjaar_rel];
	parameter<Classifications/RekenJaar> RekenJaar_rel := Classifications/Rekenstap/RekenJaar_rel[Rekenstap_rel];
	parameter<units/yr_uint16>           RekenJaar_jaar:= Classifications/Rekenstap/Jaar         [Rekenstap_rel];
*/	
	unit<uint32> PlanRegio          := Invoer/SpecifiekeInstellingen/PlanRegio			, isHidden = "true";
	container Prijzen               := TussenResultaten/Prijzen						, isHidden = "true";
	container BebouwingsComponenten := TussenResultaten/BebouwingsComponenten		, isHidden = "true";
	container NCW                   := TussenResultaten/NCW							, isHidden = "true";
	container GebiedsAllocatie      := TussenResultaten/GebiedsAllocatie			, isHidden = "true";
	container StateVoorAllocatie    := TussenResultaten/StateVoorAllocatie			, isHidden = "true";
	container StateNaAllocatie      := TussenResultaten/StateNaAllocatie			, isHidden = "true";
	container Voorkeuren            := TussenResultaten/Voorkeuren					, isHidden = "true";

	container Allocatie             := TussenResultaten/AllocatieResultaten			, isHidden = "true";
//	parameter<Classifications/zichtjaar> ZichtJaar_rel  := rlookup(ZichtJaarName, Classifications/zichtjaar/name)	, isHidden = "true";
//	parameter<units/yr_uint16>           ZichtJaar_jaar := Classifications/zichtjaar/jaar[zichtjaar_rel]			, isHidden = "true";	

	#include <DataPakketExportsBebouwingsComponent.dms>
	#include <PlanregioResults.dms>
	#include <NLResults.dms>
	
//	#include <Grid100m.dms>  TODO: Grid100m gebiedsopties dynamisch maken en corrigeren nieuwe StateNaAllocatie


	container FolderInfo: isHidden = "True"
	{
		parameter<string> OutputFolder := '%localDataProjDir%/Results/' + Expand(., '%configName%') + '/'+ RekenstapName;
	}
}